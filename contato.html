<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contato - Cultivar +</title>
  <link rel="stylesheet" href="geral.css">
  <link rel="stylesheet" href="contato.css">
</head>

<body>
   <header class="header">
        <div class="logo">
            <img src="./imagens/logo cultivar +(sem fundo).png" alt="Logo do Site">
        </div>
        <nav class="nav-links">
            <a href="index.html"><img src="./imagens/home.png" alt="Início"></a>
            <a href="sobre.html"><img src="./imagens/Sobre (1).png" alt="Sobre"></a>
            <a href="carrinho.html"><img src="./imagens/carrinho.png" alt="Carrinho"></a>
        </nav>


        <div class="actions">
            <button class="settings" id="settingsBtn">
                <img src="./imagens/configuracao.png" alt="Configurações">
            </button>
        </div>


        <div class="dropdown" id="dropdownMenu">
            <a href="perfil.html" class="item">
                <img src="./imagens/perfil (1).png" alt="Perfil">
                <span>Perfil</span>
            </a>
            <a href="historico.html" class="item">
                <img src="./imagens/historia.png" alt="Histórico">
                <span>Histórico</span>
            </a>
            <a href="admin.html" class="item">
                <img src="./imagens/homem-de-terno-e-gravata.png" alt="Admin">
                <span>Admin</span>
            </a>
            <a href="contato.html" class="item">
                <img src="./imagens/contato (1).png" alt="contato">
                <span>Contato</span>
            </a>
        </div>
    </header>
  <main>
    <h1 class="text-3xl font-extrabold text-center mb-2">Fale Conosco</h1>
    <div class="underline-limited"></div>
    <p class="mb-6 text-center text-sm text-gray-700">
      Estamos prontos para ajudar você. Por favor, preencha o formulário abaixo e entraremos em contato o mais breve
      possível.
    </p>

    <form id="contactForm" novalidate>
      <div>
        <label for="nome">Nome Completo</label>
        <input type="text" id="nome" name="nome" required placeholder="Seu nome completo" />
      </div>
      <div>
        <label for="email">E-mail</label>
        <input type="email" id="email" name="email" required placeholder="seuemail@exemplo.com" />
      </div>
      <div>
        <label for="telefone">Telefone</label>
        <input type="tel" id="telefone" name="telefone" placeholder="(99) 99999-9999" />
      </div>
      <div>
        <label for="mensagem">Enviar Mensagem</label>
        <textarea id="mensagem" name="mensagem" rows="5" required placeholder="Escreva sua mensagem aqui..."></textarea>
      </div>
      <div>
        <button type="submit">Enviar Mensagem</button>
      </div>
    </form>
  </main>

  <footer>
    <p>&copy; 2025 Cultivar +</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function () {
      emailjs.init("2oEXG1umxPx3N_u33"); // sua public key do EmailJS
    })();

    const form = document.getElementById('contactForm');

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      if (!form.checkValidity()) {
        alert('Por favor, preencha todos os campos obrigatórios corretamente.');
        return;
      }

      // Envia o formulário via EmailJS
      emailjs.sendForm('service_vn8hv0g', 'template_6hlurdd', this)
        .then(() => {
          alert('Mensagem enviada com sucesso! Obrigado pelo contato.');
          form.reset();
          window.location.href = "index.html"; // redirecionar após envio
        })
        .catch((error) => {
          console.error('Erro:', error);
          alert('Ocorreu um erro ao enviar sua mensagem. Tente novamente mais tarde.');
        });
    });

    // icone de configuração 

    const settingsBtn = document.getElementById('settingsBtn');
    const dropdownMenu = document.getElementById('dropdownMenu');


    settingsBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      dropdownMenu.classList.toggle('active');
    });


    document.addEventListener('click', (e) => {
      if (!dropdownMenu.contains(e.target) && e.target !== settingsBtn) {
        dropdownMenu.classList.remove('active');
      }
    });
  </script>
</body>

</html>