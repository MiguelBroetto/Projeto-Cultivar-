<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cultivar +</title>
  <link rel="stylesheet" href="geral.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <header>
    <div class="logo">
      <img src="./imagens/logo cultivar +(sem fundo).png" alt="Logo do Site">
    </div>
    <nav>
      <ul>
        <li><a href="index.html" class="inicio-link"><img id="img_home" src="./imagens/home.png" alt="inicio"></a></li>
        <li><a href="sobre.html" class="sobre-link"><img id="img_sobre" src="./imagens/Sobre (1).png" alt="sobre"></a>
        </li>
        <li><a href="carrinho.html" class="carrinho-link" id="linkCarrinho"><img id="img_carrinho"
              src="./imagens/carrinho.png" alt="Carrinho"></a></li>
        <li><a href="contato.html" class="contato-link"><img id="img_contato" src="./imagens/contato (1).png"
              alt="contato"></a></li>
        <li><a href="perfil.html" class="perfil-link"><img id="img_perfil" src="./imagens/perfil (1).png"
              alt="perfil"></a></li>
      </ul>
    </nav>
  </header>

  <center>
    <main>
      <h1>Nossos Produtos</h1>

      <!-- FILTROS -->
      <div class="filtros">
        <label for="categoriaFiltro">Categoria:</label>
        <select id="categoriaFiltro">
          <option value="">Todas as Categorias</option>
          <option value="fertilizante">Fertilizantes</option>
          <option value="irrigacao">Irrigação</option>
          <option value="construcao">Construção Agrícola</option>
        </select>

        <label for="precoFiltro">Faixa de Preço:</label>
        <select id="precoFiltro">
          <option value="">Todos os Preços</option>
          <option value="1">Até R$100</option>
          <option value="2">R$101 - R$200</option>
          <option value="3">Acima de R$200</option>
        </select>

        <button class="botao-filtrar" onclick="filtrarProdutos()">Aplicar Filtros</button>
        <button class="botao-limpar" onclick="limparFiltros()">Limpar Filtros</button>
      </div>

      <!-- MENSAGEM QUANDO NÃO HÁ PRODUTOS -->
      <p id="mensagemVazia" class="mensagem-vazia" style="display: none;">
        Nenhum produto cadastrado com essas condições.
      </p>

      <!-- LISTA DE PRODUTOS -->
      <div class="produtos" id="listaProdutos">
        <div class="produto" data-categoria="fertilizante" data-preco="99.90">
          <img src="./imagens/adubo.png" alt="Adubo Orgânico">
          <h2>Adubo Orgânico</h2>
          <p class="descricao">Ideal para cultivo sustentável.</p>
          <p class="preco">R$ 99,90</p>
          <button class="btn1-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="irrigacao" data-preco="149.90">
          <img src="./imagens/Inseticida.jpg" alt="Inseticida Fibromix - 1L">
          <h2>Inseticida Fibromix - 1L</h2>
          <p class="descricao">Ideal para eliminar e controlar pragas.</p>
          <p class="preco">R$ 159,90</p>
          <button class="btn2-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="construcao" data-preco="199.90">
          <img src="./imagens/Herbicida.jpg" alt="Herbicida Gramizap - 1L">
          <h2>Herbicida Gramizap - 1L</h2>
          <p class="descricao">Ideal para controlar e eliminar o crescimento de plantas daninhas.</p>
          <p class="preco">R$ 149,90</p>
          <button class="btn3-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/fertilizante.png" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn4-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/Bactericida.jpg" alt="Bactericida - 30L">
          <h2>Bactericida - 30L</h2>
          <p class="descricao">Ideal para controlar bactérias causadores de doenças no plantio.</p>
          <p class="preco">R$ 679,90</p>
          <button class="btn5-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/adubos3em1.webp" alt="Kit adubação completa">
          <h2>Kit adubação completa</h2>
          <p class="descricao">Fornece todos os nutrientes essenciais para o plantio.</p>
          <p class="preco">R$ 150,00</p>
          <button class="btn6-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/cafe.webp" alt="Sementes café arábica - 1kg">
          <h2>Sementes café arábica - 1kg</h2>
          <p class="descricao">Garantem plantas de alta qualidade, com excelente produtividade.</p>
          <p class="preco">R$ 879,90</p>
          <button class="btn7-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/soja.jpg" alt="Sementes soja - 1kg">
          <h2>Sementes soja - 1kg</h2>
          <p class="descricao">Alto potencial produtivo, excelente germinação.</p>
          <p class="preco">R$ 29,90</p>
          <button class="btn8-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/estufa.jpg" alt="Estufa agrícola - 3,20m X 4m">
          <h2>Estufa agrícola - 3,20m X 4m</h2>
          <p class="descricao">Proporciona um ambiente controlado para o cultivo.</p>
          <p class="preco">R$ 6330,90 - R$ 705,52 x 12</p>
          <button class="btn9-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/GradeNiveladora.jpg" alt="Grade Niveladora - Modelo GVA">
          <h2>Grade Niveladora - Modelo GVA</h2>
          <p class="descricao">Ideal para preparar o solo de forma uniforme.</p>
          <p class="preco">R$ 21.990,90 - R$ 2.199,00 x 10</p>
          <button class="btn10-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/AradoDeDisco.jpg" alt="Arado de discos - Modelo AR">
          <h2>Arado de discos - Modelo AR</h2>
          <p class="descricao">Projetado para revolver e preparar o solo de forma eficiente.</p>
          <p class="preco">R$ 31.890,90 - R$ 3.189 x 10</p>
          <button class="btn11-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/colheitadeira.webp" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn12-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/mineColheitadeira.jpg" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn13-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/trator.webp" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn14-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/trator2xTrasão.jpg" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn15-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/plantadeira.webp" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn16-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/semeadoraHidraulica.jpg" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn17-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/dronePulverizador.jpeg" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn18-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/droneVigia.jpg" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn19-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

        <div class="produto" data-categoria="fertilizante" data-preco="249.90">
          <img src="./imagens/aviao.webp" alt="Fertilizante Premium">
          <h2>Fertilizante Premium</h2>
          <p class="descricao">Alta performance para solo fértil.</p>
          <p class="preco">R$ 249,90</p>
          <button class="btn20-descricao">Descrição</button>
          <br><br>
          <button class="btn-comprar">Adicionar ao Carrinho</button>
        </div>

      </div>
    </main>
  </center>

  <footer>
    <p>&copy; 2025 Cultivar +</p>
  </footer>

  <script>
    // === FILTROS ===
    function filtrarProdutos() {
      const categoria = document.getElementById("categoriaFiltro").value;
      const preco = document.getElementById("precoFiltro").value;
      const produtos = document.querySelectorAll(".produto");
      const mensagem = document.getElementById("mensagemVazia");
      let produtosVisiveis = 0;

      produtos.forEach(produto => {
        const catProduto = produto.dataset.categoria;
        const precoProduto = parseFloat(produto.dataset.preco);
        let exibir = true;

        if (categoria && catProduto !== categoria) exibir = false;
        if (preco === "1" && precoProduto > 100) exibir = false;
        if (preco === "2" && (precoProduto < 101 || precoProduto > 200)) exibir = false;
        if (preco === "3" && precoProduto <= 200) exibir = false;

        produto.style.display = exibir ? "block" : "none";
        if (exibir) produtosVisiveis++;
      });

      mensagem.style.display = produtosVisiveis === 0 ? "block" : "none";
    }

    function limparFiltros() {
      document.getElementById("categoriaFiltro").value = "";
      document.getElementById("precoFiltro").value = "";
      const produtos = document.querySelectorAll(".produto");
      produtos.forEach(produto => produto.style.display = "block");
      document.getElementById("mensagemVazia").style.display = "none";
    }

    // === AÇÕES DOS BOTÕES ===
    document.querySelectorAll(".produto").forEach((produto, index) => {
      const btnDescricao = produto.querySelector("button[class*='-descricao']");
      const btnCarrinho = produto.querySelector(".btn-comprar");

      // --- DESCRIÇÃO ---
      if (btnDescricao) {
        btnDescricao.addEventListener("click", () => {
          const nome = produto.querySelector("h2") ? produto.querySelector("h2").innerText : ("Produto " + (index + 1));
          const preco = produto.querySelector(".preco") ? produto.querySelector(".preco").innerText : "";
          const descricao = produto.querySelector(".descricao") ? produto.querySelector(".descricao").innerText : "";
          const imagem = produto.querySelector("img") ? produto.querySelector("img").getAttribute("src") : "";

          // Salvamos em duas chaves pra compatibilidade com páginas diferentes
          const produtoDescricao = { nome, preco, descricao, imagem };
          const produtoSelecionado = { id: index + 1, ...produtoDescricao };

          localStorage.setItem("produtoDescricao", JSON.stringify(produtoDescricao));
          localStorage.setItem("produtoSelecionado", JSON.stringify(produtoSelecionado));

          // Redireciona para a página de detalhes.
          // *Se sua página de detalhes se chama "Produto.html", mantém assim.*
          // *Se chama "produtos.html", troque abaixo para 'produtos.html'.*
          window.location.href = "Produto.html";
        });
      }

      // --- ADICIONAR AO CARRINHO ---
      if (btnCarrinho) {
        btnCarrinho.addEventListener("click", () => {
          const nome = produto.querySelector("h2") ? produto.querySelector("h2").innerText : ("Produto " + (index + 1));
          const preco = produto.querySelector(".preco") ? produto.querySelector(".preco").innerText : "";
          const descricao = produto.querySelector(".descricao") ? produto.querySelector(".descricao").innerText : "";
          const imagem = produto.querySelector("img") ? produto.querySelector("img").getAttribute("src") : "";

          let carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
          carrinho.push({ nome, preco, descricao, imagem });
          localStorage.setItem("carrinho", JSON.stringify(carrinho));

          btnCarrinho.innerText = "Adicionado!";
          btnCarrinho.disabled = true;
          setTimeout(() => {
            btnCarrinho.innerText = "Adicionar ao Carrinho";
            btnCarrinho.disabled = false;
          }, 1500);
        });
      }
    });
  </script>

</body>

</html>